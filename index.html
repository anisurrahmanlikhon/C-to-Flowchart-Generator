<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>C to Flowchart Generator</title>
    <script src="lib/raphael.min.js"></script>
    <script src="lib/flowchart_makai.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=sans-serif">
    
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism.min.css">
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/prism.min.js"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-c.min.js"></script>

<style>
  body {
  font-family: sans-serif;
  }
</style>
   </head>
    
<body>
    <center>
    <h1>C to Flowchart Generator</h1><br>
   
    <textarea style="border: 0px; border-radius: 5px; height: 300px; width: 45%;" id="c-code" placeholder="Write a C code here" rows="25" cols="100"></textarea>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    Prism.highlightAll();
  });
</script>
        
        <textarea style=" background-color:#D3D3D3; border:0px; border-radius: 5px; height: 300px; width: 45%;" id="flowchart-code" placeholder="Generated flow-code here" rows="25" cols="100"></textarea>
     <br>
    <h2>Generated Flowchart Here</h2>
    <div id="diagram"></div>
    <script src="build/main.js"></script>
    <script>
        const listener = () => {
            const div = document.querySelector('#diagram');
            div.firstChild && div.removeChild(div.firstChild);
            try {
                flowchartCodeArea.style.color = '#000000';
                const diagram = flowchart.parse(flowchartCodeArea.value);
                diagram.drawSVG('diagram');
            } catch (e) {
                flowchartCodeArea.style.color = '#cc0000';
                div.removeChild(div.firstChild);
            }
        };
        cCodeArea.addEventListener('input', listener);
        flowchartCodeArea.addEventListener('input', listener);
    </script>
        
</center>
</body>
</html>
